<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self' https://cdn.tailwindcss.com; style-src 'self' 'unsafe-inline'"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>miki chat</title>
    <style>
      body {
        -webkit-app-region: drag;
        overflow: hidden;
      }

      button, input, textarea {
        -webkit-app-region: no-drag;
      }

      .chat-container {
        border-radius: 24px;
        backdrop-filter: blur(40px);
      }

      .message-user {
        background: #3b82f6;
        border-radius: 18px 18px 4px 18px;
        box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);
      }

      .message-ai {
        background: #2d3748;
        border-radius: 18px 18px 18px 4px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
      }

      .message-action {
        background: rgba(16, 185, 129, 0.15);
        border: 1px solid rgba(16, 185, 129, 0.3);
        border-radius: 14px;
      }

      .input-container {
        background: #2d3748;
        border-radius: 20px;
        border: 1px solid rgba(71, 85, 105, 0.3);
      }

      .input-container:focus-within {
        border-color: rgba(59, 130, 246, 0.4);
      }

      .scrollbar-hide::-webkit-scrollbar {
        display: none;
      }

      .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
    </style>
  </head>
  <body class="h-screen bg-[#1a1f2e] text-slate-100">
    <div class="flex h-full flex-col p-4">
      <!-- Header -->
      <div class="mb-3 flex items-center justify-between">
        <div class="flex items-center gap-2">
          <div class="h-2.5 w-2.5 rounded-full bg-emerald-400"></div>
          <span class="text-sm font-medium text-slate-200">miki</span>
        </div>
        <button
          id="close-btn"
          class="rounded-full p-1.5 text-slate-400 transition hover:bg-white/5 hover:text-slate-200"
        >
          <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>

      <!-- Messages -->
      <div
        id="messages"
        class="scrollbar-hide mb-3 flex-1 space-y-2.5 overflow-y-auto px-1"
      >
        <!-- メッセージがここに追加されます -->
      </div>

      <!-- Input -->
      <div class="input-container flex items-end gap-2.5 px-3.5 py-2.5">
        <textarea
          id="message-input"
          rows="1"
          class="flex-1 resize-none bg-transparent text-sm text-slate-100 placeholder-slate-400 outline-none"
          placeholder="質問してみましょう"
        ></textarea>
        <button
          id="send-btn"
          class="flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-blue-500 text-white transition hover:bg-blue-600 disabled:bg-slate-600 disabled:opacity-50"
        >
          <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14m-7-7l7 7-7 7" />
          </svg>
        </button>
      </div>
    </div>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="./chat.js"></script>
  </body>
</html>
